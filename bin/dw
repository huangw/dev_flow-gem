#!/usr/bin/env ruby
# vim: syn=ruby

$: << 'lib'

require "optparse"
require "girc"

options = {}

optparse = OptionParser.new do |opts|
  opts.banner = "Usage: dw [options] [command]"

  opts.on_tail( '-h', '--help', 'Display this screen' ) do
    puts opts
    exit
  end
end

optparse.parse!(ARGV)

# determine the command
command = ARGV[1] || 'info'
cmd_alias = {s:'start', p:'progress', pg:'progress'}
command = cmd_alias[command.to_sym] if cmd_alias[command.to_sym]

if %w[info start init complete progress close release roadmap].include? command
  options[:command] = command
else
  raise "unknown command #{command}"
end

# switch to init mode unless .dev_flow file exists

